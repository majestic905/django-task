from locust import HttpUser, task, between
from random import randint


SAMPLE_GROUP_IDS = [60397113, 72214520, 42949290, 64058969, 61403518, 56835263, 155622384, 58343385,
                    60510194, 72026768, 85924285, 63429065, 56957305, 51976496, 64596222, 105304616,
                    63034346, 178836051, 65136082, 65672313, 62958969, 61216222, 62741541, 67949979,
                    66791325, 64632541, 74887806, 82379913, 29270122, 59646061, 133839947, 132945139,
                    133097639, 69857476, 120404189, 111909575, 47246511, 70011632, 61904449, 78866535,
                    64870761, 79024864, 50169244, 63704016, 69449846, 50480745, 130912701, 60246297,
                    60934371, 80492361, 174611298, 180921316, 73888290, 28464698, 63781623, 61350888,
                    65034679, 59914468, 61751856, 97336576, 67107512, 66222698, 62516242, 61904108,
                    81198095, 61262988, 61231379, 125468143, 60751871, 196697873, 63771931, 125611322,
                    74889231, 106443152, 100745299, 79784235, 35036952, 59218056, 59588299, 53870399,
                    65379081, 92874241, 58559777, 59935130, 61823894, 28716748, 166414649, 63646313,
                    61116404, 69038898, 185475567, 120404150, 69570927, 107430890, 80756326, 139885371,
                    58766328, 128809079, 68194493, 61642542]


class HelloDjangoUser(HttpUser):
    wait_time = between(0.2, 1)

    @task
    def get_group_info(self):
        index = randint(0, len(SAMPLE_GROUP_IDS) - 1)
        group_id = SAMPLE_GROUP_IDS[index]
        # logging.info(f"asking for group {group_id} at index {index}")
        self.client.get(f"group/{group_id}")
